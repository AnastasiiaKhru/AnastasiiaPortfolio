@{
    ViewData["Title"] = "Play Zone";
}

<div class="container-fluid game-container py-5">
    <div class="row mb-5">
        <div class="col-lg-8 mx-auto text-center">
            <h1 class="display-4 fw-bold mb-3" style="color: #f4f4f5;">Play Zone</h1>
            <p class="lead" style="color: #f4f4f5;">Let's play Snake!</p>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Username Input (Initially visible) -->
            <div id="usernameSection" class="card mb-4" style="background: #2a2a3b; border: 1px solid rgba(244, 244, 245, 0.1);">
                <div class="card-body text-center">
                    <h3 class="h5 mb-3" style="color: #f4f4f5;">Enter Your Name to Play</h3>
                    <div class="input-group mb-3 w-75 mx-auto">
                        <input type="text" id="playerName" class="form-control" style="background: #1e1e2e; color: #f4f4f5; border: 1px solid rgba(244, 244, 245, 0.1);" placeholder="Your name">
                        <button class="btn" id="startPlaying" style="background: #1a1a1a; color: #f4f4f5; border: 1px solid #22d3ee;">Start Playing</button>
                    </div>
                </div>
            </div>

            <!-- Game Section (Initially hidden) -->
            <div id="gameSection" class="card" style="display: none; background: #2a2a3b; border: 1px solid rgba(244, 244, 245, 0.1);">
                <div class="card-body">
                    <div class="game-info">
                        <div class="score">Player: <span id="currentPlayer"></span> | Score: <span id="score">0</span></div>
                        <div class="controls">Use arrow keys to control the snake</div>
                    </div>
                    <div class="game-container">
                        <canvas id="gameCanvas" width="600" height="400"></canvas>
                    </div>
                    <div class="text-center mt-3">
                        <button id="startButton" class="btn" style="background: #1a1a1a; color: #f4f4f5; border: 1px solid #22d3ee;">Start Game</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Top Players Section -->
    <div class="row mt-5">
        <div class="col-lg-8 mx-auto">
            <h2 class="text-center mb-4" style="color: #f4f4f5;">Top Players</h2>
            <div class="row justify-content-center" id="topPlayers">
                <div class="col-md-4 mb-3">
                    <div class="leaderboard-item top-score">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #f4f4f5;">1st Place</h5>
                            <p class="player-name" id="firstPlace">-</p>
                            <p class="player-score" id="firstScore">-</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="leaderboard-item">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #f4f4f5;">2nd Place</h5>
                            <p class="player-name" id="secondPlace">-</p>
                            <p class="player-score" id="secondScore">-</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="leaderboard-item">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #f4f4f5;">3rd Place</h5>
                            <p class="player-name" id="thirdPlace">-</p>
                            <p class="player-score" id="thirdScore">-</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Welcome Modal -->
<div class="modal fade" id="welcomeModal" tabindex="-1" aria-labelledby="welcomeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="background: #2a2a3b; border: 1px solid rgba(244, 244, 245, 0.1);">
            <div class="modal-header" style="border-bottom: 1px solid rgba(244, 244, 245, 0.1);">
                <h5 class="modal-title" id="welcomeModalLabel" style="color: #f4f4f5;">Welcome to Play Zone!</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="filter: invert(1);"></button>
            </div>
            <div class="modal-body text-center">
                <p style="color: #f4f4f5;">Hey, I am Anastasiia! I loved playing snake game as a kid. Try to beat me! Show your best!</p>
                <img src="~/images/snake-game.png" alt="Snake Game" class="img-fluid mb-3" style="max-width: 200px;">
            </div>
            <div class="modal-footer" style="border-top: 1px solid rgba(244, 244, 245, 0.1);">
                <button type="button" class="btn" data-bs-dismiss="modal" style="background: #1a1a1a; color: #f4f4f5; border: 1px solid #22d3ee;">Let's Play!</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="~/css/snake-game.css" />
    <script src="~/js/snake-game.js"></script>
} 